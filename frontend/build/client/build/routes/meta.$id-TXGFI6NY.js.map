{
  "version": 3,
  "sources": ["../../../app/routes/meta.$id.tsx", "../../../app/components/meta_detail_header.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/meta.$id.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/meta.$id.tsx\");\n  import.meta.hot.lastModified = \"1726432900802.2446\";\n}\n// REMIX HMR END\n\n/* eslint-disable import/no-unresolved */\n/* eslint-disable react-hooks/rules-of-hooks */\nimport { List, Space } from '@douyinfe/semi-ui';\nimport { json } from '@remix-run/node';\nimport { useLoaderData } from '@remix-run/react';\nimport { extract_entry } from 'app/util';\nimport { useMetaEntries, useExtractedMeta } from 'app/client';\nimport Loading from 'app/components/loading';\nimport MetaDetailHeader from 'app/components/meta_detail_header';\nimport WidthLimit from 'app/components/width_limit';\nimport PageHeader from 'app/components/page_header';\nimport LoadingInfinite from 'app/components/loading_infinite';\nimport Text from '@douyinfe/semi-ui/lib/es/typography/text';\nimport EntryListItem from 'app/components/entry_list/item';\nexport async function loader({\n  params\n}) {\n  return json({\n    id: params.id\n  });\n}\nexport default function MetaDetail() {\n  var _s = $RefreshSig$();\n  function useData() {\n    _s();\n    const id = useLoaderData().id;\n    return useExtractedMeta(id);\n  }\n  _s(useData, \"F6LuBNH2CEPd4aySzIKp4pVkTZg=\", false, function () {\n    return [useLoaderData, useExtractedMeta];\n  });\n  return <Loading size='large' useData={useData}>\n      {data => <Loaded meta={data} />}\n    </Loading>;\n}\n_c = MetaDetail;\nexport function Loaded({\n  meta\n}) {\n  _s2();\n  return <>\n      <PageHeader routes={[{\n      href: '/',\n      name: '\u9996\u9875'\n    }, {\n      href: '/meta',\n      name: '\u756A\u5267'\n    }, {\n      name: meta.title\n    }]}>\n        <MetaDetailHeader meta={meta} />\n      </PageHeader>\n\n      <WidthLimit>\n        <Space vertical align='start' spacing='loose' style={{\n        width: '100%'\n      }}>\n          <List style={{\n          width: '100%'\n        }} emptyContent={<Text type='tertiary' style={{\n          display: 'block',\n          marginTop: '2em'\n        }}>\n                \u6682\u65E0\u8D44\u6E90\n              </Text>}>\n            <LoadingInfinite useData={useMetaEntries(meta.id)}>\n              {data => <>\n                  {data.map(entry => <EntryListItem key={entry._id.$oid} item={extract_entry(entry)} show_meta={false} />)}\n                </>}\n            </LoadingInfinite>\n          </List>\n        </Space>\n      </WidthLimit>\n    </>;\n}\n_s2(Loaded, \"uMq/KdY7t1D7xJitDJLE59Qcyq0=\", false, function () {\n  return [useMetaEntries];\n});\n_c2 = Loaded;\nvar _c, _c2;\n$RefreshReg$(_c, \"MetaDetail\");\n$RefreshReg$(_c2, \"Loaded\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/meta_detail_header.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/meta_detail_header.tsx\");\n  import.meta.hot.lastModified = \"1726383737195.0603\";\n}\n// REMIX HMR END\n\nimport { Space, Tooltip, Typography } from '@douyinfe/semi-ui';\nimport { use_is_xs } from 'app/util';\nimport SubscribeButton from './meta_card/subscription';\nexport const width = '(min(max(100dvw * 0.3, 150px), 300px))';\nexport const header_height = `calc(60px + 2em + ${width} * 1.5)`;\nconst {\n  Text,\n  Title\n} = Typography;\nconst placeholder = 'https://placedog.net/2000/3000';\nexport default function MetaDetailHeader({\n  meta\n}) {\n  const {\n    poster,\n    title,\n    year,\n    info,\n    overview,\n    tv\n  } = meta;\n  const is_xs = use_is_xs();\n  return <Space align='start' spacing={is_xs ? 'medium' : 'loose'} style={{\n    paddingBottom: '1em'\n  }}>\n      <img alt='backdrop' style={{\n      width: `calc(${width})`,\n      height: `calc(${width} * 1.5)`,\n      borderRadius: 'var(--semi-border-radius-medium)'\n    }} src={poster ?? placeholder} />\n\n      <Space vertical align='start' style={{\n      minHeight: `calc(${width} * 1.5)`\n    }}>\n        <Title heading={3} style={{\n        verticalAlign: 'baseline'\n      }}>\n          <Tooltip content={tv?.original_name}>\n            <span>{title}</span>\n          </Tooltip>\n          {year ? <Title heading={4} type='tertiary' weight='light' component='span' style={{\n          marginLeft: '0.2em'\n        }}>\n              ({year})\n            </Title> : null}\n        </Title>\n        <Text type='tertiary'>\n          {info.map((x, i, arr) => <>\n              {x.tooltip ? <Tooltip content={x.tooltip} key={x.content}>\n                  <span>{x.content}</span>\n                </Tooltip> : <span key={x.content}>{x.content}</span>}\n\n              {i < arr.length - 1 ? <span key={x.content} style={{\n            margin: '0 .3em'\n          }}>\n                  \u00B7\n                </span> : null}\n            </>)}\n        </Text>\n\n        {overview ? <Text type='secondary' ellipsis={{\n        rows: 4,\n        expandable: true\n      }}>\n            {overview}\n          </Text> : null}\n        <div style={{\n        flex: 1,\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'flex-end',\n        width: '100%'\n      }}>\n          <SubscribeButton show_text meta_id={meta.id} subscription={meta.subscription ?? null} />\n        </div>\n      </Space>\n    </Space>;\n}\n_c = MetaDetailHeader;\nvar _c;\n$RefreshReg$(_c, \"MetaDetailHeader\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["Text", "import_jsx_dev_runtime", "_c", "_c2"]
}
